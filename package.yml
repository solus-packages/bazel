name       : bazel
version    : 3.1.0
release    : 8
source     :
    - https://github.com/bazelbuild/bazel/releases/download/3.1.0/bazel-3.1.0-dist.zip : d7f40d0cac95a06cea6cb5b7f7769085257caebc3ee84269dd9298da760d5615
license    : Apache-2.0
component  : programming.tools
summary    : A fast, scalable, multi-language and extensible build system
description: |
    A fast, scalable, multi-language and extensible build system
debug      : no
strip      : no
builddeps  :
    - openjdk-8-devel
rundeps    :
    - openjdk-8
environment: |
    export JAVA_HOME=/usr/lib64/openjdk-8
build      : |
    env EXTRA_BAZEL_ARGS="--host_javabase=@local_jdk//:jdk" bash compile.sh
    $workdir/scripts/generate_bash_completion.sh \
        --bazel=$workdir/output/bazel --output=$workdir/output/bazel.bash \
        --prepend=$workdir/scripts/bazel-complete-header.bash \
        --prepend=$workdir/scripts/bazel-complete-template.bash
install    : |
    install -Dm00755 output/bazel -t $installdir/usr/share/bazel
    install -Dm00755 $pkgfiles/bazel.sh $installdir/usr/bin/bazel

    install -Dm00644 output/bazel.bash $installdir/usr/share/bash-completion/completions/bazel
    install -Dm00644 $workdir/scripts/zsh_completion/_bazel $installdir/usr/share/zsh/site-functions/_bazel
